<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>SmartAgent</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <%= stylesheet_link_tag "bootstrap" %>
  <%= stylesheet_link_tag "smartagent" %>
  <%= stylesheet_link_tag "sticky-footer-navbar" %>
</head>

<body>


<div id="wrap">
  <%= render "share/header" %>
  <div id="main">
    <div class="row" style="margin-right:0">
      <div class="col-md-12">
        <div id="cacontainer" ondrop="drop(event)" ondragover="allowdrop(event)">
          <div id="help"></div>
          <div id="triggerdiv">
            <!-- <p>触发器名称：</p>
            <p>触发器描述：</p>-->
            <div style="position:relative;top:0;right:0;">
              <canvas id="triggercanvas"  style="border:0;" draggable="true" ondrag="drag(event);" ondragstart="dragstart(event);"> </canvas>
            </div>
            <div id="triggertitle" style="position:absolute;top:-40px;font-size:20px;color:#330033">
              触发器
            </div>
            <div id="triggercontent" style="position:absolute;top:40%;left:25%;">
              <button class="btn btn-danger btn-lg" type="button" data-toggle="modal" data-target="#choosesensor">新建触发器</button>
            </div>

          </div>

          <div id="actuatordiv" ondrop="drop2(event)" ondragover="allowdrop2(event)">
            <div style="position:relative;top:0;right:0;">
              <canvas id="actuatorcanvas" style="border:0;"  draggable="true" ondrag="drag(event);" ondragstart="dragstart(event);" ondragover="allowdrop(event)"> </canvas>
            </div>

            <div id="actuatortitle" style="position:absolute;top:-40px;font-size:20px;color:#330033">
              执行器
            </div>
            <div id="actuatorcontent" style="position:absolute;top:40%;left:25%;">
              <button class="btn btn-danger btn-lg" type="button" data-toggle="modal" data-target="#choosesensor">编辑执行器</button>
            </div>
          </div>

        </div>
      </div>
    </div>
  </div>
</div>

<%= render "share/footer" %>


<div class="modal fade" id="choosesensor" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" >
  <div class="modal-dialog" class="col-md-8 col-md-offset-2" style="width:70%">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title" id="myModalLabel">Step1:选择感知器</h4>
      </div>
      <div class="modal-body">
        <div style="padding-bottom:25px">
          <input type="text" placeholder="请输入关键词"/>&nbsp;&nbsp;&nbsp;<button class="btn btn-primary">搜索</button>
        </div>
        <div class="container">
          <div class="row" id="sensorwslist">
            <div class="col-md-2">
              <img src="img/u1.png"/>
            </div>
            <div class="col-md-2">
              <img src="img/u1.png"/>
            </div>
            <div class="col-md-2">
              <img src="img/u1.png"/>
            </div>
            <div class="col-md-2">
              <img src="img/u1.png"/>
            </div>
            <div class="col-md-2">
              <img src="img/u1.png"/>
            </div>
            <div class="col-md-2">
              <img src="img/u1.png"/>
            </div>
            <div class="col-md-2">
              <img src="img/u1.png"/>
            </div>
            <div class="col-md-2">
              <img src="img/u1.png"/>
            </div>
            <div class="col-md-2">
              <img src="img/u1.png"/>
            </div>
            <div class="col-md-2">
              <img src="img/u1.png"/>
            </div>
            <div class="col-md-2">
              <img src="img/u1.png"/>
            </div>
            <div class="col-md-2">
              <img src="img/u1.png"/>
            </div>
            <div class="col-md-2">
              <img src="img/u1.png"/>
            </div>
            <div class="col-md-2">
              <img src="img/u1.png"/>
            </div>
          </div>
        </div>

      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
        <button type="button" class="btn btn-primary" data-dismiss="modal" data-toggle="modal" data-target="#sensoredit">选择</button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->


<div class="modal fade" id="sensoredit" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" >
  <div class="modal-dialog" class="col-md-8 col-md-offset-2" style="width:70%">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title" id="myModalLabel">Step2:设置感知器参数--未名bbs</h4>
      </div>
      <div class="modal-body">

        <div class="container">
          <form class="form-horizontal" role="form">
            <div class="form-group">
              <label for="exampleInputEmail1">选择版面</label>
              <select class="form-control">
                <option>0</option>
                <option>1</option>

              </select>
              <span class="help-block" id="paperfilehelp">(0代表鹊桥版，1代表跳蚤版)</span>
            </div>
          </form>
        </div>

      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">返回上一步</button>
        <button type="button" class="btn btn-primary" data-dismiss="modal" data-toggle="modal" data-target="#filter">确定</button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->


<div class="modal fade" id="filter" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" >
  <div class="modal-dialog" class="col-md-8 col-md-offset-2" style="width:70%">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title" id="myModalLabel">Step3:设置触发条件--未名bbs</h4>
      </div>
      <div class="modal-body">

        <div class="container">
          <form class="form-horizontal" role="form">
            <div class="form-group">
              <label for="exampleInputEmail1">时间</label>
              <input type="text"/>
            </div>
            <div class="form-group">
              <label for="exampleInputEmail1">帖子编号</label>
              <input type="text"/>
            </div>
            <div class="form-group">
              <label for="exampleInputEmail1">帖子标题</label>
              <input type="text"/>
            </div>
          </form>
        </div>

      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">返回上一步</button>
        <button type="button" class="btn btn-primary" data-dismiss="modal" data-toggle="modal" data-target="#settrigger">确定</button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->

<div class="modal fade" id="settrigger" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" >
  <div class="modal-dialog" class="col-md-8 col-md-offset-2" style="width:70%">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title" id="myModalLabel">Step4:设置触发器信息</h4>
      </div>
      <div class="modal-body">

        <div class="container">
          <form class="form-horizontal" role="form">
            <div class="form-group">
              <label for="exampleInputEmail1">触发器名称</label>
              <input type="text"/>
            </div>
            <div class="form-group">
              <label for="exampleInputEmail1">触发器描述</label>
              <textarea class="form-control" rows="7" id="paper"></textarea>
            </div>

          </form>
        </div>

      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">返回上一步</button>
        <button type="button" class="btn btn-primary" data-dismiss="modal" id="createtriggerbutton">创建触发器</button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->


<script src="js/jquery.js"></script>
<script src="js/createapplication.js"></script>
<script src="js/bootstrap.min.js"></script>
<%= javascript_include_tag "jquery" %>
<%= javascript_include_tag "bootstrap.min" %>
<%= javascript_include_tag "createapplication" %>
</body>
</html>